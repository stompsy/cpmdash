{% extends "base.html" %}
{% load static %}

{% block pageName %}od-referrals-insights{% endblock pageName %}
{% block title %}Overdose Referrals â€” Insights{% endblock title %}

{% block page_header %}
{% static 'media/pafd_cpm.jpg' as odreferrals_insights_header_image %}
{% with eyebrow="Program insights" title="Overdose Referral Insights" description="Trace who submits overdose referrals, how CPM teams respond, and where naloxone and SUD handoffs are happening. Use these insights to strengthen partner alerts, align shift coverage, and accelerate post-overdose outreach." image_src=odreferrals_insights_header_image image_alt="Paramedic crew staged at response vehicle" image_width="960" image_height="640" %}
    {% include "partials/page_header.html" %}
{% endwith %}
{% endblock page_header %}

{% block content %}
<span data-page-name="od-referrals-insights" class="hidden" hidden></span>
<section class="col-span-12">
    <div
        id="odreferrals-insights-fragment"
        class="space-y-16 rounded-2xl bg-white/50 px-6 py-12 shadow-md ring-1 ring-slate-200/80 backdrop-blur dark:bg-slate-900/40 dark:ring-white/10 sm:px-10 lg:px-16"
        hx-get="{% url 'dashboard:odreferrals_insights_fragment' %}"
        hx-trigger="load"
        hx-target="this"
        hx-swap="outerHTML"
        aria-busy="true"
    >
        <div class="animate-pulse space-y-12 text-slate-400 dark:text-slate-500">
            <div class="grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-5">
                {% for _ in "12345" %}
                <div class="h-40 rounded-2xl bg-slate-200/60 dark:bg-slate-700/40"></div>
                {% endfor %}
            </div>
            <div class="h-[22rem] rounded-3xl bg-slate-200/60 dark:bg-slate-700/40"></div>
            <div class="grid grid-cols-1 gap-4 lg:grid-cols-2">
                <div class="h-[20rem] rounded-3xl bg-slate-200/60 dark:bg-slate-700/40"></div>
                <div class="h-[20rem] rounded-3xl bg-slate-200/60 dark:bg-slate-700/40"></div>
            </div>
            <div class="grid grid-cols-1 gap-4 lg:grid-cols-2">
                <div class="h-[20rem] rounded-3xl bg-slate-200/60 dark:bg-slate-700/40"></div>
                <div class="h-[20rem] rounded-3xl bg-slate-200/60 dark:bg-slate-700/40"></div>
            </div>
            <div class="space-y-3">
                <div class="h-4 w-2/3 rounded bg-slate-200/70 dark:bg-slate-700/40"></div>
                <div class="h-4 w-1/2 rounded bg-slate-200/70 dark:bg-slate-700/40"></div>
                <div class="h-4 w-3/4 rounded bg-slate-200/70 dark:bg-slate-700/40"></div>
            </div>
        </div>
    </div>
</section>
{% endblock content %}
