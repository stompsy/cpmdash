{% load static %}
<li id="task-{{ task.pk }}" class="group relative rounded-xl border border-brand-500/20 bg-brand-500/5">
  <div class="absolute left-0 top-0 h-full w-1 rounded-l-xl bg-gradient-to-b from-brand-400 to-brand-600"></div>

  <div class="p-5">
    <form
      action="{% url 'tasks:row_update' task.pk %}"
      method="post"
      hx-post="{% url 'tasks:row_update' task.pk %}"
      hx-target="#task-{{ task.pk }}"
      hx-swap="outerHTML"
      class="space-y-4"
    >
      {% csrf_token %}

      <!-- Form Errors -->
      {% if form.non_field_errors %}
        <div class="rounded-xl border border-rose-400/40 bg-rose-500/10 px-4 py-3 text-sm text-rose-200">
          {{ form.non_field_errors }}
        </div>
      {% endif %}

      <!-- Title Section -->
      <div>
        <label for="id_title_{{ task.pk }}" class="block text-sm font-medium text-slate-200 mb-2">
          Task Title <span class="text-rose-400">*</span>
        </label>
        {{ form.title }}
        {% if form.title.errors %}
          <p class="mt-1.5 text-xs text-rose-300">{{ form.title.errors|join:", " }}</p>
        {% endif %}
      </div>

      <!-- Description Section -->
      <div>
        <label for="id_description_{{ task.pk }}" class="block text-sm font-medium text-slate-200 mb-2">Description</label>
        {{ form.description }}
        {% if form.description.errors %}
          <p class="mt-1.5 text-xs text-rose-300">{{ form.description.errors|join:", " }}</p>
        {% endif %}
      </div>

      <!-- Action Buttons - Responsive Stack -->
      <div class="flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3 pt-2">
        <button
          type="submit"
          class="inline-flex items-center justify-center gap-2 rounded-xl bg-gradient-to-r from-brand-500 to-brand-600 px-5 py-2.5 text-sm font-semibold text-white shadow-lg shadow-brand-500/30 transition-all duration-200 hover:shadow-xl hover:shadow-brand-500/40 hover:scale-[1.02] focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-brand-400"
        >
          <svg class="h-4 w-4" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5"/>
          </svg>
          <span>Save Changes</span>
        </button>
        <button
          type="button"
          class="inline-flex items-center justify-center gap-2 rounded-xl border border-white/10 bg-white/5 px-5 py-2.5 text-sm font-semibold text-slate-100 transition-all duration-200 hover:bg-white/10 hover:border-white/20 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-slate-400"
          hx-get="{% url 'tasks:row_cancel' task.pk %}"
          hx-target="#task-{{ task.pk }}"
          hx-swap="outerHTML"
        >
          <svg class="h-4 w-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"/>
          </svg>
          <span>Cancel</span>
        </button>
      </div>
    </form>
  </div>
</li>
